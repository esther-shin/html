<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>DOM(document object model)</title>
	<script>
		function proc1(){
			var domul = document.getElementsByTagName("ul")[0];
			
			var domlist = domul.getElementsByTagName("li");//5개 들어와 있음.
			
			for(var i=0;i<domlist.length;i++){
				vimg= domlist[i].firstChild.data;//data(내용값)li안에 내용(텍스트를 가져온다.)
				imgC = document.createElement("img");//<img> 태그를 만들어주는 거
				imgC.src = "../imgs/" +vimg +".jpg";//<img src='안에 있는 내용'>
				imgC.width = 100;
				imgC.height= 100;
				
				domlist[i].appendChild(imgC);//appendChild밑으로 붙인다.
			}
		}
		
		
		function proc2(ele){
			vimg = ele.firstChild.data;//첫번째 자식에다가 data를 가져와라
			imgC = document.createElement("img");//img 태그 만들어주고
			imgC.src = "../imgs/"+vimg+".jpg";//사진 가져오기
			imgC.width = 100;
			imgC.height= 100;
			
			ele.appendChild(imgC);
			
		}
		
		function srcChange(){
			imgarr= ["컴퓨터.jpg","식품.jpg","구름.jpg","호랑이.jpg","커피.jpg"];
			
			idx = Math.floor(Math.random()*imgarr.length);
			//0~4중 랜덤 수
			document.getElementById("img1").firstChild.src = "../imgs/"+imgarr[idx];
			document.getElementById("img1").firstChild.width = 100;
		}
		
		
		function changeColor(){
			id= setInterval(srcChange,1000);//flash함수를 1초마다 호출
		}
		
		function stop(){
			clearInterval(id);
		}
		
	</script>	
	</head>
	<body>
		<h1>DOM</h1>
		<pr>html 문서를 객체로 표현한 것을 dom이라고 한다.</pr>
		
		<div class="box">
		<h2>1. 새로운 HTML 요소 생성(이미지 요소)</h2>
		버튼을 클릭하면 이미지를 표시한다.<br><br>
		1.각 list의 문자를 가져온다.- firstChild.date;자식<br>
		2.이미지 객체를 생성한다.-createElement('img');<br>
		3. 각list의 자식으로 이미지를 추가한다. -appendChild()<br>
		<button onclick="proc1()">실행</button>
		
		<ul>
		<li>컴퓨터</li>
		<li>식품</li>
		<li>호랑이</li>
		<li>구름</li>
		<li>커피</li>
		</ul>
		
		</div>
		
		<div>
			<h2>2.	새로운 html 요소 생성(이미지 요소)</h2>
			각 리스트를 클릭하면 해당 이미지를 표시한다.<br>
			1.메소드 호출시 매게변수로 this를 넘겨준다.<br>
			2.createElement():이미지 요소를 생성한다.<br>
			2.appendChild(): this 요소안에 자식으로 넣어라<br>
		
		<br><br>	
		<ul>
		<li onclick= "proc2(this);">컴퓨터</li>
		<li onclick= "proc2(this);">식품</li>
		<li onclick= "proc2(this);">호랑이</li>
		<li onclick= "proc2(this);">구름</li>
		<li onclick= "proc2(this);">커피</li>
		</ul>
		</div>
		
		
		<div>
		<h2>3. src 속성 변경</h2>
		버튼을 클릭할때 마다 이미지를 변경<br><br>
		1.이미지를 배열로 구성<br>
		2. 랜덤 발생<br>
		3. 이미지 배열 중 랜덤발생 수 번째의 이미지로 src를 변경한다.<br>
		
		<button onclick="changeColor();">변경</button>
		<button onclick="stop();">중지</button>
		<br><br>
		-버튼을 클릭하면 1초 간격으로 이미지를 변경<br>
		-setInterval(function(){},1000);<br><br>
		
		<div id="img1"><img src="../imgs/호랑이.jpg"></div>
		
		
		</div>
		
		
		
	</body>
</html>